# 💧 수위 모니터링 대시보드 설정 가이드

## 🚀 빠른 설치

대시보드를 사용하기 위해 다음 패키지를 설치하세요:

```bash
pip install plotly
```

## 📦 전체 종속성 설치

만약 다른 패키지도 없다면, requirements.txt의 모든 패키지를 설치하세요:

```bash
pip install -r requirements.txt
```

## 🎯 대시보드 기능

### **1. 실시간 수위 모니터링**
- 각 채널별 원형 게이지로 수위 시각화
- 수위 상태별 색상 코딩
- 채널 1, 채널 2 개별 표시

### **2. 펌프 제어 패널**
- 펌프 1, 펌프 2 개별 상태 표시
- 실시간 켜기/끄기 버튼 제어
- 상태 변화 즉시 반영

### **3. 자동 새로고침**
- 3초/5초/10초/30초 간격 선택 가능
- 수동 새로고침 버튼 제공
- 실시간 데이터 업데이트

### **4. 히스토리 차트**
- 시간대별 수위 변화 그래프
- 펌프 작동 히스토리
- 최근 10/30/60/100개 데이터 범위 선택

## 🔧 사용 방법

1. **시스템 초기화**
   - 메인 앱에서 "🔄 시스템 초기화" 버튼 클릭

2. **대시보드 접근**
   - 사이드바의 "💧 수위 대시보드" 버튼 클릭

3. **실시간 모니터링**
   - 수위 게이지로 현재 상태 확인
   - 자동 새로고침으로 실시간 업데이트

4. **펌프 제어**
   - 각 펌프의 켜기/끄기 버튼으로 제어
   - 상태 변화 즉시 확인 가능

## ⚠️ 문제 해결

### ImportError 발생 시
```bash
pip install plotly langchain-teddynote
```

### 아두이노 연결 문제 시
1. USB 케이블 연결 확인
2. 포트 권한 설정 (Linux/WSL2)
3. 아두이노 IDE에서 정상 동작 확인

### WSL2 환경 설정
```bash
# Windows PowerShell (관리자 권한)
winget install usbipd
usbipd wsl list
usbipd wsl attach --busid <BUSID>

# WSL2에서 확인
ls /dev/ttyACM*
```

## 🎨 화면 구성

- **상단**: 제어 패널 (새로고침, 자동갱신 설정)
- **중앙**: 수위 게이지 (채널별 원형 차트)
- **하단**: 펌프 제어 버튼
- **맨 아래**: 히스토리 차트

모든 데이터는 실제 아두이노 센서에서 실시간으로 가져옵니다!